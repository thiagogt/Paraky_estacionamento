/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
SET DATABASE SQL SYNTAX ORA TRUE
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C2*/CREATE TABLE version_bd ( id INTEGER IDENTITY, version VARCHAR(256))
CREATE TABLE client ( id_client INTEGER IDENTITY, name VARCHAR(256) not null,last_name VARCHAR(256), cpf VARCHAR(256) UNIQUE not null, birthday_date date,tel_1 VARCHAR(256),tel_2 VARCHAR(256),email VARCHAR(256),id_owner_parking_space INTEGER)
CREATE TABLE car( id_car INTEGER IDENTITY,id_client_car INTEGER,year_manufacture INTEGER,color VARCHAR(256) not null,model VARCHAR(256), car_plate VARCHAR(256) UNIQUE not null, car_brand VARCHAR(256))
CREATE TABLE daily_payment( id_daily_payment INTEGER IDENTITY,id_car_charged INTEGER NOT NULL,cost double,checkin TIMESTAMP,checkout TIMESTAMP)
CREATE TABLE parking_space( id_parking_space INTEGER IDENTITY,id_client_owner INTEGER NOT NULL,pay_day integer,type_parking_space VARCHAR(256),contract_date DATE,parking_space_cost double)
CREATE TABLE monthly_payment( id_monthly_payment INTEGER IDENTITY,id_parking_space INTEGER NOT NULL,payment_status VARCHAR(256),payment_date DATE)
CREATE TABLE adress( id_adress INTEGER IDENTITY,id_client_adress INTEGER NOT NULL,street VARCHAR(256),number VARCHAR(256),complement VARCHAR(256),neighborhood VARCHAR(256),city VARCHAR(256),country VARCHAR(256))
ALTER TABLE client ADD CONSTRAINT fk_relative_client FOREIGN KEY (id_owner_parking_space) REFERENCES client (id_client) ON UPDATE CASCADE ON DELETE CASCADE
ALTER TABLE car ADD CONSTRAINT fk_car_client FOREIGN KEY (id_client_car) REFERENCES client (id_client) ON UPDATE CASCADE ON DELETE CASCADE
ALTER TABLE daily_payment ADD CONSTRAINT fk_car_charged FOREIGN KEY (id_car_charged) REFERENCES car (id_car) ON UPDATE CASCADE ON DELETE CASCADE
ALTER TABLE parking_space ADD CONSTRAINT fk_client_owner_space FOREIGN KEY (id_client_owner) REFERENCES client (id_client) ON UPDATE CASCADE ON DELETE CASCADE
ALTER TABLE monthly_payment ADD CONSTRAINT fk_payment_space FOREIGN KEY (id_parking_space) REFERENCES parking_space (id_parking_space) ON UPDATE CASCADE ON DELETE CASCADE
DISCONNECT
